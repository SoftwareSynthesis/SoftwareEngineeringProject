/* automatically generated by JSCoverage - do not edit */
try {
  if (typeof top === 'object' && top !== null && typeof top.opener === 'object' && top.opener !== null) {
    // this is a browser window that was opened from another window

    if (! top.opener._$jscoverage) {
      top.opener._$jscoverage = {};
    }
  }
}
catch (e) {}

try {
  if (typeof top === 'object' && top !== null) {
    // this is a browser window

    try {
      if (typeof top.opener === 'object' && top.opener !== null && top.opener._$jscoverage) {
        top._$jscoverage = top.opener._$jscoverage;
      }
    }
    catch (e) {}

    if (! top._$jscoverage) {
      top._$jscoverage = {};
    }
  }
}
catch (e) {}

try {
  if (typeof top === 'object' && top !== null && top._$jscoverage) {
    _$jscoverage = top._$jscoverage;
  }
}
catch (e) {}
if (typeof _$jscoverage !== 'object') {
  _$jscoverage = {};
}
if (! _$jscoverage['GroupPanelPresenter.js']) {
  _$jscoverage['GroupPanelPresenter.js'] = [];
  _$jscoverage['GroupPanelPresenter.js'][6] = 0;
  _$jscoverage['GroupPanelPresenter.js'][21] = 0;
  _$jscoverage['GroupPanelPresenter.js'][22] = 0;
  _$jscoverage['GroupPanelPresenter.js'][23] = 0;
  _$jscoverage['GroupPanelPresenter.js'][25] = 0;
  _$jscoverage['GroupPanelPresenter.js'][26] = 0;
  _$jscoverage['GroupPanelPresenter.js'][28] = 0;
  _$jscoverage['GroupPanelPresenter.js'][29] = 0;
  _$jscoverage['GroupPanelPresenter.js'][30] = 0;
  _$jscoverage['GroupPanelPresenter.js'][32] = 0;
  _$jscoverage['GroupPanelPresenter.js'][34] = 0;
  _$jscoverage['GroupPanelPresenter.js'][37] = 0;
  _$jscoverage['GroupPanelPresenter.js'][38] = 0;
  _$jscoverage['GroupPanelPresenter.js'][44] = 0;
  _$jscoverage['GroupPanelPresenter.js'][45] = 0;
  _$jscoverage['GroupPanelPresenter.js'][48] = 0;
  _$jscoverage['GroupPanelPresenter.js'][63] = 0;
  _$jscoverage['GroupPanelPresenter.js'][64] = 0;
  _$jscoverage['GroupPanelPresenter.js'][65] = 0;
  _$jscoverage['GroupPanelPresenter.js'][66] = 0;
  _$jscoverage['GroupPanelPresenter.js'][68] = 0;
  _$jscoverage['GroupPanelPresenter.js'][69] = 0;
  _$jscoverage['GroupPanelPresenter.js'][77] = 0;
  _$jscoverage['GroupPanelPresenter.js'][78] = 0;
  _$jscoverage['GroupPanelPresenter.js'][79] = 0;
  _$jscoverage['GroupPanelPresenter.js'][80] = 0;
}
_$jscoverage['GroupPanelPresenter.js'].source = ["<span class=\"c\">/**</span>","<span class=\"c\"> * Presenter incaricato di gestire i gruppi</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * @param {String} url URL della servlet con cui il presenter deve comunicare</span>","<span class=\"c\"> */</span>","<span class=\"k\">function</span> GroupPanelPresenter<span class=\"k\">(</span>url<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"c\">/**********************************************************</span>","<span class=\"c\">     VARIABILI PRIVATE</span>","<span class=\"c\">     ***********************************************************/</span>","","    <span class=\"c\">/**********************************************************</span>","<span class=\"c\">     FUNZIONI PRIVATE</span>","<span class=\"c\">     ***********************************************************/</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * Aggiunge un gruppo ad una lista</span>","<span class=\"c\">     *</span>","<span class=\"c\">     * @param {HTMLUListElement} list la lista su cui aggiungere il gruppo</span>","<span class=\"c\">     * @param {Object} group il gruppo da aggiungere alla lista</span>","<span class=\"c\">     * @author Riccardo Tresoldi</span>","<span class=\"c\">     */</span>","    <span class=\"k\">function</span> addListItem<span class=\"k\">(</span>list<span class=\"k\">,</span> group<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> item <span class=\"k\">=</span> document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">\"li\"</span><span class=\"k\">);</span>","        item<span class=\"k\">.</span>id <span class=\"k\">=</span> group<span class=\"k\">.</span>id<span class=\"k\">;</span>","        <span class=\"c\">// costruisce il nodo</span>","        <span class=\"k\">var</span> nameSpan <span class=\"k\">=</span> document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">\"span\"</span><span class=\"k\">);</span>","        nameSpan<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>document<span class=\"k\">.</span>createTextNode<span class=\"k\">(</span>group<span class=\"k\">.</span>name<span class=\"k\">));</span>","        <span class=\"c\">// visualizza sempre l'email</span>","        <span class=\"k\">var</span> deleteGroupImg <span class=\"k\">=</span> document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'img'</span><span class=\"k\">);</span>","        deleteGroupImg<span class=\"k\">.</span>src <span class=\"k\">=</span> <span class=\"s\">\"\"</span><span class=\"k\">;</span>","        deleteGroupImg<span class=\"k\">.</span>className <span class=\"k\">=</span> <span class=\"s\">\"deleteGroupImg\"</span><span class=\"k\">;</span>","        <span class=\"c\">//attribuisco all'immagine il comando di eliminare il gruppo</span>","        deleteGroupImg<span class=\"k\">.</span>onclick <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"c\">//chiedo conferma per l'eliminazione</span>","            <span class=\"k\">var</span> userConfirm <span class=\"k\">=</span> confirm<span class=\"k\">(</span><span class=\"s\">\"Sei sicuro di voler eliminare questo gruppo?</span><span class=\"t\">\\n</span><span class=\"s\">\"</span> <span class=\"k\">+</span>","            \t\t<span class=\"s\">\"Gli utenti appartenenti a questo gruppo non verranno eliminati.\"</span><span class=\"k\">);</span>","            <span class=\"c\">//se viene data conferma infoco la funzione pr eliminare il gruppo</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>userConfirm<span class=\"k\">)</span><span class=\"k\">{</span>","                mediator<span class=\"k\">.</span>onGroupRemoved<span class=\"k\">(</span>group<span class=\"k\">);</span>","                <span class=\"c\">//FIXME si deve ricaricare la lista?</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","        ","        <span class=\"c\">// aggiunge i sottonodi al 'li' appena creato</span>","        item<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>nameSpan<span class=\"k\">);</span>","        item<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>deleteGroupImg<span class=\"k\">);</span>","","        <span class=\"c\">// aggiunge il 'li' alla lista ricevuta come parametro</span>","        list<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>item<span class=\"k\">);</span>","    <span class=\"k\">}</span>","","    <span class=\"c\">/**********************************************************</span>","<span class=\"c\">     METODI PUBBLICI</span>","<span class=\"c\">     ***********************************************************/</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * Crea il pannello per la gestione dei gruppi che dev'essere richiamato nel</span>","<span class=\"c\">     * mainPanelPresenter</span>","<span class=\"c\">     *</span>","<span class=\"c\">     * @returns {HTMLDivElement} il pannello dello storico delle chiamate</span>","<span class=\"c\">     * inizializzato</span>","<span class=\"c\">     *</span>","<span class=\"c\">     * @author Riccardo Tresoldi</span>","<span class=\"c\">     */</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>createPanel <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> element <span class=\"k\">=</span> document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">\"div\"</span><span class=\"k\">);</span>","        element<span class=\"k\">.</span>id <span class=\"k\">=</span> <span class=\"s\">\"groupPanel\"</span><span class=\"k\">;</span>","        groupList <span class=\"k\">=</span> document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">\"ul\"</span><span class=\"k\">);</span>","        <span class=\"c\">// aggiunge al sottoalbero il nuovo elemento</span>","        element<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>groupList<span class=\"k\">);</span>","        <span class=\"k\">return</span> element<span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * Visualizza all'interno del pannello la lista dei gruppi della mia rubrica</span>","<span class=\"c\">     *</span>","<span class=\"c\">     * @author Riccardo Tresoldi</span>","<span class=\"c\">     */</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>displayContactList <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","        groupList<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">\"\"</span><span class=\"k\">;</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> g <span class=\"k\">in</span> groups<span class=\"k\">)</span> <span class=\"k\">{</span>","            addListItem<span class=\"k\">(</span>groupList<span class=\"k\">,</span> g<span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","<span class=\"k\">}</span>"];
_$jscoverage['GroupPanelPresenter.js'][6]++;
function GroupPanelPresenter(url) {
  _$jscoverage['GroupPanelPresenter.js'][21]++;
  function addListItem(list, group) {
    _$jscoverage['GroupPanelPresenter.js'][22]++;
    var item = document.createElement("li");
    _$jscoverage['GroupPanelPresenter.js'][23]++;
    item.id = group.id;
    _$jscoverage['GroupPanelPresenter.js'][25]++;
    var nameSpan = document.createElement("span");
    _$jscoverage['GroupPanelPresenter.js'][26]++;
    nameSpan.appendChild(document.createTextNode(group.name));
    _$jscoverage['GroupPanelPresenter.js'][28]++;
    var deleteGroupImg = document.createElement("img");
    _$jscoverage['GroupPanelPresenter.js'][29]++;
    deleteGroupImg.src = "";
    _$jscoverage['GroupPanelPresenter.js'][30]++;
    deleteGroupImg.className = "deleteGroupImg";
    _$jscoverage['GroupPanelPresenter.js'][32]++;
    deleteGroupImg.onclick = (function () {
  _$jscoverage['GroupPanelPresenter.js'][34]++;
  var userConfirm = confirm("Sei sicuro di voler eliminare questo gruppo?\nGli utenti appartenenti a questo gruppo non verranno eliminati.");
  _$jscoverage['GroupPanelPresenter.js'][37]++;
  if (userConfirm) {
    _$jscoverage['GroupPanelPresenter.js'][38]++;
    mediator.onGroupRemoved(group);
  }
});
    _$jscoverage['GroupPanelPresenter.js'][44]++;
    item.appendChild(nameSpan);
    _$jscoverage['GroupPanelPresenter.js'][45]++;
    item.appendChild(deleteGroupImg);
    _$jscoverage['GroupPanelPresenter.js'][48]++;
    list.appendChild(item);
}
  _$jscoverage['GroupPanelPresenter.js'][63]++;
  this.createPanel = (function () {
  _$jscoverage['GroupPanelPresenter.js'][64]++;
  var element = document.createElement("div");
  _$jscoverage['GroupPanelPresenter.js'][65]++;
  element.id = "groupPanel";
  _$jscoverage['GroupPanelPresenter.js'][66]++;
  groupList = document.createElement("ul");
  _$jscoverage['GroupPanelPresenter.js'][68]++;
  element.appendChild(groupList);
  _$jscoverage['GroupPanelPresenter.js'][69]++;
  return element;
});
  _$jscoverage['GroupPanelPresenter.js'][77]++;
  this.displayContactList = (function () {
  _$jscoverage['GroupPanelPresenter.js'][78]++;
  groupList.innerHTML = "";
  _$jscoverage['GroupPanelPresenter.js'][79]++;
  for (var g in groups) {
    _$jscoverage['GroupPanelPresenter.js'][80]++;
    addListItem(groupList, g);
}
});
}
