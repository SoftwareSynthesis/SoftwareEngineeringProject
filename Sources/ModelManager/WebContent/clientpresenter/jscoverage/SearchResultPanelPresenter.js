/* automatically generated by JSCoverage - do not edit */
try {
  if (typeof top === 'object' && top !== null && typeof top.opener === 'object' && top.opener !== null) {
    // this is a browser window that was opened from another window

    if (! top.opener._$jscoverage) {
      top.opener._$jscoverage = {};
    }
  }
}
catch (e) {}

try {
  if (typeof top === 'object' && top !== null) {
    // this is a browser window

    try {
      if (typeof top.opener === 'object' && top.opener !== null && top.opener._$jscoverage) {
        top._$jscoverage = top.opener._$jscoverage;
      }
    }
    catch (e) {}

    if (! top._$jscoverage) {
      top._$jscoverage = {};
    }
  }
}
catch (e) {}

try {
  if (typeof top === 'object' && top !== null && top._$jscoverage) {
    _$jscoverage = top._$jscoverage;
  }
}
catch (e) {}
if (typeof _$jscoverage !== 'object') {
  _$jscoverage = {};
}
if (! _$jscoverage['SearchResultPanelPresenter.js']) {
  _$jscoverage['SearchResultPanelPresenter.js'] = [];
  _$jscoverage['SearchResultPanelPresenter.js'][10] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][15] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][17] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][22] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][36] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][37] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][38] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][40] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][41] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][42] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][43] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][44] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][45] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][46] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][48] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][49] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][51] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][52] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][53] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][54] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][56] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][57] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][58] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][60] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][61] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][63] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][66] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][77] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][78] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][79] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][80] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][82] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][83] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][93] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][94] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][95] = 0;
  _$jscoverage['SearchResultPanelPresenter.js'][96] = 0;
}
_$jscoverage['SearchResultPanelPresenter.js'].source = ["<span class=\"c\">/**</span>","<span class=\"c\"> * Presenter incaricato di gestire il pannello che visualizza i risultati di ricerca</span>","<span class=\"c\"> * </span>","<span class=\"c\"> * @constructor</span>","<span class=\"c\"> * @this {SearchResultPanelPresenter}</span>","<span class=\"c\"> * @param {String} url URL della servlet con cui il presenter deve parlare</span>","<span class=\"c\"> * @author Marco Schivo</span>","<span class=\"c\"> * @author Diego Beraldin</span>","<span class=\"c\"> */</span>","<span class=\"k\">function</span> SearchResultPanelPresenter<span class=\"k\">(</span>url<span class=\"k\">)</span> <span class=\"k\">{</span>","<span class=\"c\">/**********************************************************</span>","<span class=\"c\">                      VARIABILI PRIVATE</span>","<span class=\"c\">***********************************************************/</span>","\t<span class=\"c\">// indirizzo della servlet con cui il presenter deve interfacciarsi</span>","\t<span class=\"k\">var</span> servlets <span class=\"k\">=</span> <span class=\"k\">new</span> Array<span class=\"k\">();</span>","\t<span class=\"c\">// inizializza i normi delle servlet</span>","\tgetServletURLs<span class=\"k\">();</span>","","<span class=\"c\">/**********************************************************</span>","<span class=\"c\">                       METODI PRIVATI</span>","<span class=\"c\">***********************************************************/</span>","\t<span class=\"k\">function</span> getServletURLs<span class=\"k\">()</span> <span class=\"k\">{</span>","\t\t<span class=\"c\">//TODO da finire</span>","\t<span class=\"k\">}</span>","\t","\t<span class=\"c\">/**</span>","<span class=\"c\">\t * Aggiunge un contatto ad una lista (pensato per essere visualizzato</span>","<span class=\"c\">\t * nel pannello dei risultati di una ricerca, in cui &#195;&#168; quindi possibile</span>","<span class=\"c\">\t * anche aggiungere un nuovo contatto alla propria rubrica</span>","<span class=\"c\">\t * </span>","<span class=\"c\">\t * @param {HTMLUListElement} list</span>","<span class=\"c\">\t * @param {Object} contact</span>","<span class=\"c\">\t * @author Marco Schivo</span>","<span class=\"c\">\t * @author Diego Beraldin</span>","<span class=\"c\">\t */</span>","\t<span class=\"k\">function</span> addListItem<span class=\"k\">(</span>list<span class=\"k\">,</span> contact<span class=\"k\">)</span> <span class=\"k\">{</span>","\t\t<span class=\"k\">var</span> item <span class=\"k\">=</span> document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">\"li\"</span><span class=\"k\">);</span>","        item<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span><span class=\"s\">\"id\"</span><span class=\"k\">,</span> contact<span class=\"k\">.</span>id<span class=\"k\">);</span>","\t\t<span class=\"c\">// costruisce il nodo</span>","        <span class=\"k\">var</span> name <span class=\"k\">=</span> <span class=\"s\">\"\"</span><span class=\"k\">;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>contact<span class=\"k\">.</span>name <span class=\"k\">!=</span> <span class=\"k\">null</span><span class=\"k\">)</span>","            name <span class=\"k\">+=</span> contact<span class=\"k\">.</span>name<span class=\"k\">;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>contact<span class=\"k\">.</span>surname <span class=\"k\">!=</span> <span class=\"k\">null</span><span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>name <span class=\"k\">!=</span> <span class=\"s\">\"\"</span><span class=\"k\">)</span>","                name <span class=\"k\">+=</span> <span class=\"s\">\" \"</span><span class=\"k\">;</span>","            name <span class=\"k\">+=</span> contact<span class=\"k\">.</span>surname<span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>name <span class=\"k\">!=</span> <span class=\"s\">\"\"</span><span class=\"k\">)</span>","        \tname <span class=\"k\">+=</span> <span class=\"s\">\" \"</span><span class=\"k\">;</span>","        <span class=\"c\">// visualizza sempre l'email</span>","        name <span class=\"k\">+=</span> contact<span class=\"k\">.</span>mail<span class=\"k\">;</span>","        <span class=\"k\">var</span> avatarNode <span class=\"k\">=</span> document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'img'</span><span class=\"k\">);</span>","        avatarNode<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span><span class=\"s\">\"src\"</span><span class=\"k\">,</span> contact<span class=\"k\">.</span>picturePathatar<span class=\"k\">);</span>","        <span class=\"k\">var</span> textNode <span class=\"k\">=</span> document<span class=\"k\">.</span>createTextNode<span class=\"k\">(</span>name<span class=\"k\">);</span>","        <span class=\"c\">// aggiunge i sottonodi al 'li' appena creato</span>","        item<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>avatarNode<span class=\"k\">);</span>","        item<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>textNode<span class=\"k\">);</span>","        item<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>statusNode<span class=\"k\">);</span>","        <span class=\"c\">// comportamento del list item al click del mouse</span>","        item<span class=\"k\">.</span>onclick <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","        \tmediator<span class=\"k\">.</span>onContactSelected<span class=\"k\">(</span>contact<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","        item<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>button<span class=\"k\">);</span>","        ","\t\t<span class=\"c\">// aggiunge il 'li' alla lista ricevuta come parametro</span>","\t\tlist<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>item<span class=\"k\">);</span>","\t<span class=\"k\">}</span>","\t","<span class=\"c\">/**********************************************************</span>","<span class=\"c\">                      METODI PUBBLICI</span>","<span class=\"c\">***********************************************************/</span>","\t<span class=\"c\">/**</span>","<span class=\"c\">\t * Inizializza il pannello dei risultati ricerca</span>","<span class=\"c\">\t * </span>","<span class=\"c\">\t * @author Diego Beraldin</span>","<span class=\"c\">\t */</span>","\t<span class=\"k\">this</span><span class=\"k\">.</span>createPanel <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","\t\t<span class=\"k\">var</span> element <span class=\"k\">=</span> document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">\"div\"</span><span class=\"k\">);</span>","\t\telement<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span><span class=\"s\">\"id\"</span><span class=\"k\">,</span> <span class=\"s\">\"SearchResultPanel\"</span><span class=\"k\">);</span>","\t\tuserList <span class=\"k\">=</span> document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">\"ul\"</span><span class=\"k\">);</span>","\t\t<span class=\"c\">// aggiunge al sottoalbero il nuovo elemento</span>","\t\telement<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>userList<span class=\"k\">);</span>","\t\t<span class=\"k\">return</span> element<span class=\"k\">;</span>","\t<span class=\"k\">}</span><span class=\"k\">;</span>","\t","\t<span class=\"c\">/**</span>","<span class=\"c\">\t * Visualizza all'interno del pannello una lista di contatti che</span>","<span class=\"c\">\t * &#195;&#168; stata ottenuta dal server a seguito di una ricerca</span>","<span class=\"c\">\t * </span>","<span class=\"c\">\t * @param {Array} contacts la lista di contatti che deve essere visualizzata</span>","<span class=\"c\">\t * @author Diego Beraldin</span>","<span class=\"c\">\t */</span>","\t<span class=\"k\">this</span><span class=\"k\">.</span>displayContactList <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>contacts<span class=\"k\">)</span> <span class=\"k\">{</span>","\t\tuserList<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">\"\"</span><span class=\"k\">;</span>","\t\t<span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> c <span class=\"k\">in</span> contacts<span class=\"k\">)</span> <span class=\"k\">{</span>","\t\t\taddListItem<span class=\"k\">(</span>userList<span class=\"k\">,</span> c<span class=\"k\">);</span>","\t\t<span class=\"k\">}</span>","\t<span class=\"k\">}</span><span class=\"k\">;</span>","<span class=\"k\">}</span>"];
_$jscoverage['SearchResultPanelPresenter.js'][10]++;
function SearchResultPanelPresenter(url) {
  _$jscoverage['SearchResultPanelPresenter.js'][15]++;
  var servlets = new Array();
  _$jscoverage['SearchResultPanelPresenter.js'][17]++;
  getServletURLs();
  _$jscoverage['SearchResultPanelPresenter.js'][22]++;
  function getServletURLs() {
}
  _$jscoverage['SearchResultPanelPresenter.js'][36]++;
  function addListItem(list, contact) {
    _$jscoverage['SearchResultPanelPresenter.js'][37]++;
    var item = document.createElement("li");
    _$jscoverage['SearchResultPanelPresenter.js'][38]++;
    item.setAttribute("id", contact.id);
    _$jscoverage['SearchResultPanelPresenter.js'][40]++;
    var name = "";
    _$jscoverage['SearchResultPanelPresenter.js'][41]++;
    if ((contact.name != null)) {
      _$jscoverage['SearchResultPanelPresenter.js'][42]++;
      name += contact.name;
    }
    _$jscoverage['SearchResultPanelPresenter.js'][43]++;
    if ((contact.surname != null)) {
      _$jscoverage['SearchResultPanelPresenter.js'][44]++;
      if ((name != "")) {
        _$jscoverage['SearchResultPanelPresenter.js'][45]++;
        name += " ";
      }
      _$jscoverage['SearchResultPanelPresenter.js'][46]++;
      name += contact.surname;
    }
    _$jscoverage['SearchResultPanelPresenter.js'][48]++;
    if ((name != "")) {
      _$jscoverage['SearchResultPanelPresenter.js'][49]++;
      name += " ";
    }
    _$jscoverage['SearchResultPanelPresenter.js'][51]++;
    name += contact.mail;
    _$jscoverage['SearchResultPanelPresenter.js'][52]++;
    var avatarNode = document.createElement("img");
    _$jscoverage['SearchResultPanelPresenter.js'][53]++;
    avatarNode.setAttribute("src", contact.picturePathatar);
    _$jscoverage['SearchResultPanelPresenter.js'][54]++;
    var textNode = document.createTextNode(name);
    _$jscoverage['SearchResultPanelPresenter.js'][56]++;
    item.appendChild(avatarNode);
    _$jscoverage['SearchResultPanelPresenter.js'][57]++;
    item.appendChild(textNode);
    _$jscoverage['SearchResultPanelPresenter.js'][58]++;
    item.appendChild(statusNode);
    _$jscoverage['SearchResultPanelPresenter.js'][60]++;
    item.onclick = (function () {
  _$jscoverage['SearchResultPanelPresenter.js'][61]++;
  mediator.onContactSelected(contact);
});
    _$jscoverage['SearchResultPanelPresenter.js'][63]++;
    item.appendChild(button);
    _$jscoverage['SearchResultPanelPresenter.js'][66]++;
    list.appendChild(item);
}
  _$jscoverage['SearchResultPanelPresenter.js'][77]++;
  this.createPanel = (function () {
  _$jscoverage['SearchResultPanelPresenter.js'][78]++;
  var element = document.createElement("div");
  _$jscoverage['SearchResultPanelPresenter.js'][79]++;
  element.setAttribute("id", "SearchResultPanel");
  _$jscoverage['SearchResultPanelPresenter.js'][80]++;
  userList = document.createElement("ul");
  _$jscoverage['SearchResultPanelPresenter.js'][82]++;
  element.appendChild(userList);
  _$jscoverage['SearchResultPanelPresenter.js'][83]++;
  return element;
});
  _$jscoverage['SearchResultPanelPresenter.js'][93]++;
  this.displayContactList = (function (contacts) {
  _$jscoverage['SearchResultPanelPresenter.js'][94]++;
  userList.innerHTML = "";
  _$jscoverage['SearchResultPanelPresenter.js'][95]++;
  for (var c in contacts) {
    _$jscoverage['SearchResultPanelPresenter.js'][96]++;
    addListItem(userList, c);
}
});
}
