<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="it">
<head>
<title>LOGIN</title>
<meta charset="UTF-8" />

</head>
<body>
  <fieldset id="loginbox">
    <ul>
      <li>
        <label for="username">Username:</label>
        <input type="text" id="username" value="" />
      </li>
      <li>
        <label for="password">Password:</label>
        <input type="password" id="password" value="" />
      </li>
       <!-- Il bottone qui sotto ï¿½ associato a una chiamata di metodo! -->
      <li id="loginbutton" class="action" onClick="load()"><button>Accedi</button></li>
    </ul>
  </fieldset>
  
  <script type="text/javascript">
	function load() {
	
	var servletURL = "http://localhost:8080/MyTalk/Login";
	var successURL = "success.html";
	
	var username = document.getElementById("username").value;
	var password = document.getElementById("password").value;



	var request = new XMLHttpRequest();
	request.onreadystatechange = function() {
		if (request.readyState == 4 && request.status == 200) {
			//var dati= JSON.parse(request.responseText);
			alert(request.responseText);
		}
	};
	// apre la richiesta e la invia
	request.open("POST", servletURL, "true");
	request.setRequestHeader("Content-type","application/x-www-form-urlencoded");
	request.send("username=" + username + "&password=" + password + "&operation=1");
}
  </script>
</body>
</html>