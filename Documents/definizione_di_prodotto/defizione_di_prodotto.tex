% **************************************************
% Macro specifiche per il documento corrente
% **************************************************
% Nome
\newcommand{\docName}{Definizione di prodotto}
% Nome file
\newcommand{\docFileName}{definizione\_di\_prodotto.1.0.pdf}
% Versione
\newcommand{\docVers}{1.0}
% Data creazione
\newcommand{\creationDate}{2013-02-03}
% Data ultima modifica
\newcommand{\modificationDate}{2013-02-03}
% Stato in {Approvato, Non approvato}
\newcommand{\docState}{Non approvato}
% Uso in {Interno, Esterno}
\newcommand{\docUsage}{Esterno}
% Destinatari da specificare come nome1\\ &nome2\\ ecc.
\newcommand{\docDistributionList}{Prof. Tullio Vardanega\\&Prof. Riccardo Cardin\\&Dott. Gregorio Piccoli\\&Team SoftwareSynthesis}
% Redattori da specificare come nome1\\ &nome2\\ ecc.
\newcommand{\docAuthors}{Elena Zecchinato\\&Andrea Meneghinello\\&Riccardo Tresoldi}
% Approvato da
\newcommand{\approvedBy}{Andrea Rizzi}
% Verificatori
\newcommand{\verifiedBy}{Stefano Farronato\\&Marco Schivo}
% Perscorso (relativo o assoluto) che punta alla directory contenente shared/
% come sua sottodirectory (per comodità chiamiamola 'doc root').
\newcommand{\docRoot}{..}
% definire se si vuole l'indice delle tabelle
\def\INDICETABELLE{false}
% definire se si vuole l'indice delle figure
\def\INDICEFIGURE{false}

% importa il preambolo condiviso da tutti i documenti
\input{\docRoot/shared/preamble.tex}

% macro specifiche per il documento corrente
\newcommand{\memberdata}[1]{\texttt{\textcolor{RedOrange}{#1}}}
\newcommand{\method}[1]{\texttt{\textcolor{Emerald}{#1}}}
\newcommand{\exception}[1]{\texttt{\textcolor{RedViolet}{#1}}}

% Fine del preambolo e inizio del documento
\begin{document}

% Inclusione della prima pagina
\input{\docRoot/shared/firstpage.tex}

%---------------------------RUOLI----------------------------
%FASE 1:
%Programmatori: DIEGO, STEFANO, SCHIVO
%FASE 2:
%Programmatori: MENE, TRES, ELENA

%Verificatore: SCHIVO, STEFANO, RIZZI, DIEGO (dobbiamo fare un sacco di test)
%Responsabile finale supremo: RIZZI
%------------------------------------------------------------

% Storico delle modifiche
\section*{Storia delle modifiche}
\begin{center}
\begin{longtable}{lp{.32\textwidth}lll}
\toprule
Versione & Descrizione intervento & Membro & Ruolo & Data\\
\midrule % inserire qui il contenuto della tabella
0.1 & Creazione del documento e stesura delle sezioni ``Introduzione'' e ``Riferimenti''. & &  & 2013-02-03\\
\bottomrule
\end{longtable}
\end{center}
\newpage

% inclusione dell'indice
\input{\docRoot/shared/toc.tex}

% Alcuni aggiustamenti per le pagine
\pagenumbering{arabic}
\setcounter{page}{1}
\pagestyle{normal}

% Qui ha inizio il documento vero e proprio...
\newpage

\section{Introduzione}
\subsection{Scopo del prodotto}
\purpose

\subsection{Scopo del documento}
Il presente documento presenta una descrizione dettagliata dell'architettura del sistema software destinata a costituire il prodotto \caName{}, coerentemente con la progettazione ad alto livello contenuta nell'allegato \textit{specifica\_tecnica.2.0.pdf}.

A tal fine, si riporta per ognuno dei componenti definiti nel documento di specifica tecnica una descrizione delle classi in termini di operazioni disponibili, proprietà, responsabilità e collaborazioni. Il contenuto del presente documento ha inoltre valore vincolante per i programmatori, che avranno l'obbligo di attenersi alle disposizioni in esso contenute senza alcuna possibilità di deroga.

\subsection{Glossario}
\glossaryIntro

\subsection{Convenzioni di scrittura}
% vedere issue #56 al riguardo
Al fine di rendere quanto più agevole possibile la consultazione di questo documento, è stata adottata una serie di accorgimenti. In primo luogo, sono stati inseriti riferimenti incrociati sui nomi delle classi aventi come destinazione la sottosezione che descrive la classe stessa.

In secondo luogo, per i membri di classi e interfacce, oltre a una famiglia di font a spaziatura fissa, sono state adottate le seguenti convenzioni cromatiche:
\begin{itemize}[noitemsep,nolistsep]
  \item \memberdata{\bfseries rosso} per i campi dati;
  \item \method{\bfseries verde} per i metodi.
\end{itemize}

I differenti livelli di accessibilità sono contrassegnati, in maniera analoga a UML, come:
\begin{itemize}
  \item \texttt{\ttfamily +} per la parte pubblica;
  \item \texttt{\ttfamily \#} per la parte protetta;
  \item \texttt{\ttfamily \textasciitilde} per  l'accessibilità di package;
  \item \texttt{\ttfamily --} per la parte privata.
\end{itemize}

Infine, i membri statici di classi e interfacce sono contrassegnati con una \underline{\texttt{sottolineatura}}.
\clearpage

\section{Riferimenti}
\subsection{Normativi}
\begin{itemize}
\item[] \textit{piano\_di\_qualifica.3.0.pdf} allegato.
\item[] \textit{norme\_di\_progetto.3.0.pdf} allegato.
\item[] \textit{specifica\_tecnica.2.0.pdf} allegato
\end{itemize}

\subsection{Informativi}
\begin{itemize}
\item[] Capitolato d'appalto: \caName{}, v1.0, redatto e rilasciato dal proponente Zucchetti s.r.l. reperibile all'indirizzo \url{http://www.math.unipd.it/~tullio/IS-1/2012/Progetto/C1.pdf};
\item[] testo di consultazione: \textit{Software Engineering (8th edition) Ian Sommerville, Pearson Education | Addison Wesley};
\item[] manuale all'utilizzo dei design pattens: \textit{Design Patterns, Elementi per il riuso di software a oggetti -- (1/Ed. italiana) Eric Gamma, Richard Helm, Ralph Johnson, John Vlissides, Pearson Education};
\item[] \textit{glossario.3.0.pdf} allegato.
\end{itemize}
\clearpage

\section{Standard di progetto}

\subsection{Standard di progettazione architetturale}

\subsection{Standard di documentazione del codice}
% dobbiamo pensare se enumerarle qui oppure se rimandare a una sezione delle NdP
% vedere issue #54 al riguardo

\subsection{Standard di denominazione di entità e relazioni}

\subsection{Standard di programmazione}

\subsection{Strumenti di lavoro}

\clearpage

\section{Specifica sotto-architettura sever}\label{sec:serverarchitecture}

\subsection{Package org.softwaresynthesis.mytalk.server.dao}\label{sec:dao}

\subsubsection{IAudioMessage}\label{sec:iaudiomessage}
\subsubsection*{Funzione}

\subsubsection*{Relazioni d'uso}

% eventualmente creare interfaccia padre IMessage
% vedere issue #62

\subsubsection*{Metodi}
\begin{description}
  \item{\method{+ getSender(): IUserData}}\\
Restituisce il mittente del messaggio, sotto forma di un sottotipo (proxy) di \texttt{IUserData}.
  \item{\method{+ getDate(): Date}}\\
Restituisce la data di creazione del messaggio (appoggiandosi a \texttt{java.util.Date}).
  \item{\method{+ isNew(): boolean}}\\
Restituisce un booleano che fornisce le informazioni relative all'ascolto del messaggio: \texttt{true} se è stato ascoltato, \texttt{false} altrimenti.
  \item{\method{+ setNew(b: boolean): void}}\\
Imposta il booleano che fornisce le informazioni relative all'ascolto del messaggio.
  \item{\method{+ getLength(): int}}\\
Restituisce la lunghezza del messaggio audio espressa in secondi.
  \item{\method{+ getAudio(): byte[]}}\\
Restituisce il contenuto del messaggio audio in questione.
  \item{\method{+ getSize(): int}}\\
Restituisce la dimensione del messaggio audio espressa in byte.
\end{description}

\subsubsection{IAudioVideoMessage}\label{sec:iaudiovideomessage}
\subsubsection*{Metodi}
\begin{description}
  \item{\method{+ getSender(): IUserData}}\\
Restituisce il mittente del messaggio, sotto forma di un sottotipo (proxy) di \texttt{IUserData}.
  \item{\method{+ getDate(): Date}}\\
Restituisce la data di creazione del messaggio (appoggiandosi a \texttt{java.util.Date}).
  \item{\method{+ isNew(): boolean}}\\
Restituisce un booleano che fornisce le informazioni relative all'ascolto del messaggio: \texttt{true} se è stato ascoltato, \texttt{false} altrimenti.
  \item{\method{+ setNew(b: boolean): void}}\\
Imposta il booleano che fornisce le informazioni relative all'ascolto del messaggio.
  \item{\method{+ getLength(): int}}\\
Restituisce la lunghezza del messaggio audio/video espressa in secondi.
  \item{\method{+ getAudioVideo(): byte[]}}\\
Restituisce il contenuto del messaggio audio/video in questione.
  \item{\method{+ getSize(): int}}\\
Restituisce la dimensione del messaggio audio/video espressa in byte.
\end{description}

\subsubsection{AudioMessage}\label{sec:audiomessage}

\subsubsection*{Interfacce implementate}
\begin{itemize}[noitemsep,nolistsep]
  \item[-]\texttt{IAudioMessage}
\end{itemize}

\subsubsection*{Funzionalità}

\subsubsection*{Relazioni d'uso}

\subsubsection*{Attributi}
\begin{description}
  \item{\memberdata{-- sender: IUserData}}\\
Riferimento all'utente che costituisce il mittente del messaggio audio.
  \item{\memberdata{-- date: Date}}\\
Data in cui è stato creato il messaggio audio.
  \item{\memberdata{-- path: String}}\\
Percorso che punta alla rappresentazione in forma persistente del messaggio audio.
  \item{\memberdata{-- new: boolean}}\\
Flag booleano che permette di discriminare i messaggi audio ascoltati da quelli non ascoltati.
  \item{\memberdata{-- content: byte[]}}\\
Rappresentazione del contenuto del messaggio audio.
\end{description}

\subsubsection*{Metodi}
Oltre alle implementazioni dell'interfaccia \texttt{IAudioMessage}, la classe contiene i seguenti metodi:
\begin{description}
  \item{\method{AudioMessage(path: String)}}\\
\end{description}

\subsubsection{AudioVideoMessage}\label{sec:audiovideomessage}

\subsubsection*{Interfacce implementate}
\begin{itemize}[noitemsep,nolistsep]
  \item[-]\texttt{IAudioVideoMessage}
\end{itemize}

\subsubsection*{Funzionalità}

\subsubsection*{Relazioni d'uso}

\subsubsection*{Attributi}
\begin{description}
  \item{\memberdata{-- sender: IUserData}}\\
Riferimento all'utente che costituisce il mittente del messaggio audio/video.
  \item{\memberdata{-- date: Date}}\\
Data in cui è stato creato il messaggio audio/video.
  \item{\memberdata{-- path: String}}\\
Percorso che punta alla rappresentazione in forma persistente del messaggio audio/video.
  \item{\memberdata{-- new: boolean}}\\
Flag booleano che permette di discriminare i messaggi audio/video ascoltati da quelli non ascoltati.
  \item{\memberdata{-- content: byte[]}}\\
Rappresentazione del contenuto del messaggio audio/video.
\end{description}

\subsubsection*{Metodi}
Oltre alle implementazioni dell'interfaccia \texttt{IAudioVideoMessage}, la classe contiene i seguenti metodi:
\begin{description}
  \item{\method{AudioVideoMessage(path: String)}}\\
\end{description}

\subsubsection{IGroup}\label{sec:igroup}
\subsubsection*{Interfacce estese}
\begin{itemize}[noitemsep,nolistsep]
  \item[-] \texttt{IContact}
\end{itemize}

\subsubsection{StandardGroup}\label{sec:standardgroup}

\subsubsection*{Interfacce implementate}
\begin{itemize}[noitemsep,nolistsep]
  \item[-]
\end{itemize}

\subsubsection*{Funzionalità}

\subsubsection*{Relazioni d'uso}

\subsubsection*{Attributi}

\subsubsection*{Metodi}

\subsubsection{IUserData}\label{sec:iuserdata}
\subsubsection*{Interfacce estese}
\begin{itemize}[noitemsep,nolistsep]
  \item[-] \texttt{IContact}
\end{itemize}

\subsubsection*{Funzionalità}
\subsubsection*{Relazioni d'uso}
\subsubsection*{Metodi}

\subsubsection{StandardUserData}\label{sec:standarduserdata}
\subsubsection*{Interfacce implementate}
\begin{itemize}[noitemsep,nolistsep]
  \item[-] \texttt{IContact}
  \item[-] \texttt{IUserData}
\end{itemize}

\subsection{Package org.softwaresynthesis.mytalk.server.connection}\label{sec:connection}

\subsubsection{ICommunicationHandler}\label{sec:icommunicationhandler}

\subsubsection*{Funzionalità}

\subsubsection*{Relazioni d'uso}


\subsubsection*{Metodi}

\subsubsection{StandardCommunicationHandler}\label{sec:standardcommunicationhandler}

\subsubsection*{Interfacce implementate}
\begin{itemize}[noitemsep,nolistsep]
  \item[-]
\end{itemize}

\subsubsection*{Funzionalità}

\subsubsection*{Relazioni d'uso}

\subsubsection*{Attributi}

\subsubsection*{Metodi}

\subsubsection{IConnection}\label{sec:iconnection}

\subsubsection*{Funzionalità}

\subsubsection*{Relazioni d'uso}

\subsubsection*{Attributi}

\subsubsection*{Metodi}

\subsubsection{WebRTCInfo}\label{sec:webrtcinfo}

\subsubsection*{Interfacce implementate}
\begin{itemize}[noitemsep,nolistsep]
  \item[-]
\end{itemize}

\subsubsection*{Funzionalità}

\subsubsection*{Relazioni d'uso}

\subsubsection*{Attributi}

\subsubsection*{Metodi}

\subsection{Package org.softwaresynthesis.mytalk.server.abook}\label{sec:abook}

\subsubsection{IContact}\label{sec:icontact}

\subsubsection*{Funzionalità}

\subsubsection*{Relazioni d'uso}

\subsubsection*{Metodi}
\begin{description}
  \item{\method{+ getName(): String}}\\
Restituisce il nome del contatto.
  \item{\method{+ setName(String name): void}}\\
Imposta il nome del contatto.
  \item{\method{+ getChildrenNumber(): int}}\\
Restituisce il numero di figli di un determinato nodo.
  \item{\method{+ addChild(contact: IContact): voi}}\\
Aggiunge un contatto (utente singolo o gruppo) come figlio del nodo selezionato.
  \item{\method{+ deleteChild(contact: IContact): void}}\\
Cancella dai figli del contatto di invocazione il contatto \texttt{contact}.
\end{description}

\subsubsection{IAddressBook}\label{sec:iaddressbook}

\subsubsection*{Funzionalità}

\subsubsection*{Relazioni d'uso}

\subsubsection*{Attributi}

\subsubsection*{Metodi}

\subsubsection{UserDataProxy}\label{sec:userdataproxy}

\subsubsection*{Interfacce implementate}
\begin{itemize}[noitemsep,nolistsep]
  \item[-]
\end{itemize}

\subsubsection*{Funzionalità}

\subsubsection*{Relazioni d'uso}

\subsubsection*{Attributi}

\subsubsection*{Metodi}

\subsubsection{AddressBook}\label{sec:addressbook}

\subsubsection*{Interfacce implementate}
\begin{itemize}[noitemsep,nolistsep]
  \item[-]
\end{itemize}

\subsubsection*{Funzionalità}

\subsubsection*{Relazioni d'uso}

\subsubsection*{Attributi}

\subsubsection*{Metodi}

\subsection{Package org.softwaresynthesis.mytalk.server.state}\label{sec:state}

\subsubsection{IState}\label{sec:istate}

\subsubsection*{Funzionalità}

\subsubsection*{Relazioni d'uso}

\subsubsection*{Attributi}

\subsubsection*{Metodi}

\subsubsection{StateOnline}\label{sec:stateonline}

\subsubsection*{Interfacce implementate}
\begin{itemize}[noitemsep,nolistsep]
  \item[-]
\end{itemize}

\subsubsection*{Funzionalità}

\subsubsection*{Relazioni d'uso}

\subsubsection*{Attributi}

\subsubsection*{Metodi}

\subsubsection{StateOffline}\label{sec:stateoffline}

\subsubsection*{Interfacce implementate}
\begin{itemize}[noitemsep,nolistsep]
  \item[-]
\end{itemize}

\subsubsection*{Funzionalità}

\subsubsection*{Relazioni d'uso}

\subsubsection*{Attributi}

\subsubsection*{Metodi}

\subsubsection{StateAvailable}\label{sec:stateavailable}

\subsubsection*{Interfacce implementate}
\begin{itemize}[noitemsep,nolistsep]
  \item[-]
\end{itemize}

\subsubsection*{Funzionalità}

\subsubsection*{Relazioni d'uso}

\subsubsection*{Attributi}

\subsubsection*{Metodi}

\subsubsection{StateOccupied}\label{sec:stateoccupied}

\subsubsection*{Interfacce implementate}
\begin{itemize}[noitemsep,nolistsep]
  \item[-]
\end{itemize}

\subsubsection*{Funzionalità}

\subsubsection*{Relazioni d'uso}

\subsubsection*{Attributi}

\subsubsection*{Metodi}

\subsection{Package org.softwaresynthesis.mytalk.server.message}\label{sec:message}

\subsubsection{IMessageBox}\label{sec:imessagebox}

\subsubsection*{Funzionalità}

\subsubsection*{Relazioni d'uso}

\subsubsection*{Attributi}

\subsubsection*{Metodi}

\subsubsection{StandardMessageBox}\label{sec:standardmessagebox}

\subsubsection*{Interfacce implementate}
\begin{itemize}[noitemsep,nolistsep]
  \item[-]
\end{itemize}

\subsubsection*{Funzionalità}

\subsubsection*{Relazioni d'uso}

\subsubsection*{Attributi}

\subsubsection*{Metodi}

\subsubsection{AudioMessageProxy}\label{sec:audiomessageproxy}

\subsubsection*{Interfacce implementate}
\begin{itemize}[noitemsep,nolistsep]
  \item[-]\texttt{org.softwaresynthesis.mytalk.IAudioMessage}
\end{itemize}

\subsubsection*{Funzionalità}

\subsubsection*{Relazioni d'uso}

\subsubsection*{Attributi}
\begin{description}
  \item{\memberdata{-- sender: IUserData}}\\
Riferimento all'utente che costituisce il mittente del messaggio audio.
  \item{\memberdata{-- date: Date}}\\
Data in cui è stato creato il messaggio audio.
  \item{\memberdata{-- path: String}}\\
Percorso che punta alla rappresentazione in forma persistente del messaggio audio.
  \item{\memberdata{-- new: boolean}}\\
Flag booleano che permette di discriminare i messaggi audio ascoltati da quelli non ascoltati.
  \item{\memberdata{-- msg: org.softwaresynthesis.mytalk.server.dao.AudioMessage}}\\
Riferimento al messaggio reale costruito mediante la tecnica di lazy initialization.
\end{description}

\subsubsection*{Metodi}
Oltre alle implementazioni dell'interfaccia \texttt{org.mytalk.server.dao.IAudioMessage}, la classe prevede i seguenti metodi:
\begin{description}
\item{\method{+ AudioMessageProxy(path: String)}}\\
\end{description}

\subsubsection{AudioVideoMessageProxy}\label{sec:audiovideomessageproxy}

\subsubsection*{Interfacce implementate}
\begin{itemize}[noitemsep,nolistsep]
  \item[-]\texttt{org.softwaresynthesis.mytalk.IAudioVideoMessage}
\end{itemize}

\subsubsection*{Funzionalità}

\subsubsection*{Relazioni d'uso}

\subsubsection*{Attributi}
\begin{description}
  \item{\memberdata{-- sender: IUserData}}\\
Riferimento all'utente che costituisce il mittente del messaggio audio/video.
  \item{\memberdata{-- date: Date}}\\
Data in cui è stato creato il messaggio audio/video.
  \item{\memberdata{-- path: String}}\\
Percorso che punta alla rappresentazione in forma persistente del messaggio audio/video.
  \item{\memberdata{-- new: boolean}}\\
Flag booleano che permette di discriminare i messaggi audio/video ascoltati da quelli non ascoltati.
  \item{\memberdata{-- msg: org.softwaresynthesis.mytalk.server.dao.AudioVideoMessage}}\\
Riferimento al messaggio reale costruito mediante la tecnica di lazy initialization.
\end{description}

\subsubsection*{Metodi}
Oltre alle implementazioni dell'interfaccia \texttt{org.mytalk.server.dao.IAudioVideoMessage}, la classe prevede i seguenti metodi:
\begin{description}
\item{\method{+ AudioMessageProxy(path: String)}}\\
\end{description}

\subsection{Package org.softwaresynthesis.mytalk.server}\label{sec:server}

\subsubsection{IServerFacade}\label{sec:iserverfacade}

\subsubsection*{Funzionalità}

\subsubsection*{Relazioni d'uso}

\subsubsection*{Attributi}

\subsubsection*{Metodi}

\subsubsection{StandardServerFacade}\label{sec:standardserverfacade}

\subsubsection*{Interfacce implementate}
\begin{itemize}[noitemsep,nolistsep]
  \item[-] \texttt{IServerFacade}
\end{itemize}

\subsubsection*{Funzionalità}

\subsubsection*{Relazioni d'uso}

\subsubsection*{Attributi}

\subsubsection*{Metodi}

\clearpage

\section{Specifica sotto-archiettura clientpresenter}\label{clientpresenterarchitecture}

\subsection{Package org.softwaresynthesis.mytalk.clientpresenter}\label{sec:clientpresetner}

\subsubsection{IClient}\label{sec:iclient}

\subsubsection{StandardClient}\label{sec:standardclient}

\subsubsection{IPresenterFacade}\label{sec:ipresenterfacade}

\subsubsection{StandardPresenterFacade}\label{sec:standardserverfacade}

\clearpage

\section{Specifica sotto-architettura clientview}\label{sec:clientviewarchitecture}

\subsection{Package org.softwaresynthesis.mytalk.clientview}\label{sec:clientview}

\subsubsection{IViewFacade}\label{sec:iviewfacade}

\subsubsection{StandardViewFacade}\label{sec:standardviewfacade}

\subsection{Package org.softwaresynthesis.clientview.gui}\label{sec:gui}

\subsubsection{GUIHandler}\label{sec:guihandler}

\subsubsection{AddressBookPanel}\label{sec:addressbookpanel}

\subsubsection{MainPanel}\label{sec:mainpanel}

\subsubsection{ToolsPanel}\label{sec:toolspanel}

\subsubsection{SearchResultPanel}\label{sec:searchresultpanel}

\subsubsection{ContactPanel}\label{sec:contactpanel}

\subsubsection{MessagePanel}\label{sec:messagepanel}

\subsubsection{LanguagePanel}\label{sec:languagepanel}

\subsubsection{AccountSettingsPanel}\label{sec:accountsettingspanel}

\subsubsection{CallHistoryPanel}\label{sec:callhistorypanel}

\clearpage

\section{Tracciamento della relazione componenti-requisiti}

\end{document}
